(this["webpackJsonpgame-of-thrones-books"]=this["webpackJsonpgame-of-thrones-books"]||[]).push([[0],{40:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(17),r=a.n(c),i=a(47),o=a(46),d=[],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(o.a)(e),[t.addData]);default:return e}},u=a(25),j=a(48),h=a(18),b=a(19),O=a(21),p=a(20),m=a(33),v=a(2),f=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"four wide column",children:Object(v.jsx)(m.b,{to:{pathname:"/characters",url:this.props.data.url},style:{color:"white"},children:Object(v.jsx)("div",{className:"ui cards",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"header",children:this.props.data.name}),Object(v.jsx)("div",{className:"metaname",children:this.props.data.publisher}),Object(v.jsx)("div",{className:"meta",children:this.props.data.authors[0]})]})})})})})}}]),a}(s.a.Component),x=Object(u.b)((function(e){return{BooksData:e}}))((function(e){return Object(v.jsx)("div",{className:"ui grid container",children:e.BooksData.map((function(e){return Object(v.jsx)(f,{data:e},e.isbn)}))})})),N=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new XMLHttpRequest,a=null;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&JSON.parse(t.response).forEach((function(t){a={name:t.name,isbn:t.isbn,url:t.url,authors:t.authors,publisher:t.publisher},0===JSON.parse(localStorage.getItem("Books")).filter((function(e){return e.isbn===a.isbn})).length&&e.props.addBooks(Object(j.a)({},a)),e.setState({data:!0})}))},t.open("GET","https://www.anapioficeandfire.com/api/books",!0),t.send()}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"ui fixed menu",children:Object(v.jsx)("div",{className:"ui container",children:Object(v.jsx)("h2",{children:"GAME OF THRONES BOOKS"})})}),Object(v.jsx)("div",{className:"ui grid container",children:Object(v.jsx)(x,{})})]})}}]),a}(s.a.Component),g=Object(u.b)()((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(N,{addBooks:function(t){return e.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,a=void 0===t?"":t,n=e.name,s=void 0===n?"":n,c=e.authors,r=void 0===c?"":c,i=e.publisher,o=void 0===i?"":i,d=e.isbn;return{type:"ADD",addData:{url:a,name:s,authors:r,publisher:o,isbn:void 0===d?"":d}}}(t))}})})})),S=a(32),y=a(87),k=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:null},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var a=JSON.parse(t.response);e.setState({data:a})}},t.open("GET",this.props.data,!0),t.send()}},{key:"render",value:function(){if(this.state.data){var e=""===this.state.data.name?"No name":this.state.data.name,t=""===this.state.data.tvSeries[0]?"No Info":this.state.data.tvSeries.join("-");return Object(v.jsx)("div",{className:"four wide column",children:Object(v.jsx)("div",{className:"ui cards",children:Object(v.jsx)("div",{className:"card",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"header",children:e}),Object(v.jsx)("div",{className:"metaname",children:this.state.data.gender}),Object(v.jsx)("div",{className:"meta",children:t})]})})})})}return Object(v.jsx)("div",{children:Object(v.jsx)(y.a,{color:"secondary"})})}}]),a}(s.a.Component),w=a(43),E=a(86),D=a(45),_=a.n(D),C=function(e){Object(O.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:null,range:0},n.appendComponents=n.appendComponents.bind(Object(S.a)(n)),n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.props.location.url&&localStorage.setItem("url",this.props.location.url);var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var a=JSON.parse(t.response).characters;e.setState({data:a})}},t.open("GET",localStorage.getItem("url"),!0),t.send()}},{key:"appendComponents",value:function(){this.setState({range:this.state.range+20})}},{key:"render",value:function(){return null!=this.state.data?Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"ui fixed menu",children:[Object(v.jsx)(E.a,{color:"inherit",onClick:function(){window.history.back()},children:Object(v.jsx)(_.a,{fontSize:"large"})}),Object(v.jsx)("div",{className:"ui container center",children:Object(v.jsx)("h2",{children:"Characters"})})]}),Object(v.jsx)("div",{className:"ui grid container",children:this.state.data.slice(0,this.state.range+20).map((function(e){return Object(v.jsx)(k,{data:e},e)}))}),Object(v.jsx)(w.a,{onBottom:this.appendComponents})]}):Object(v.jsx)("div",{children:Object(v.jsx)(y.a,{color:"primary"})})}}]),a}(s.a.Component),B=a(4),I=function(){return Object(v.jsx)(m.a,{children:Object(v.jsx)("div",{children:Object(v.jsxs)(B.c,{children:[Object(v.jsx)(B.a,{path:"/",component:g,exact:!0}),Object(v.jsx)(B.a,{path:"/characters",component:C,exact:!0})]})})})};a(40);var T=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(I,{})})},J=Object(i.a)(l,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());J.subscribe((function(){localStorage.setItem("Books",JSON.stringify(J.getState()))}));var M=Object(v.jsx)(u.a,{store:J,children:Object(v.jsx)(T,{})});r.a.render(M,document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f2011660.chunk.js.map